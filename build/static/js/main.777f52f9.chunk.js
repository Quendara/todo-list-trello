(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{44:function(e,t,a){e.exports=a(89)},89:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(22),s=a.n(r),o=a(2),c=a(4),i=a(3),l=a(5),u=a(0),d=a.n(u),p=a(8),m=a.n(p),f=a(43),g=a(26),v=a(18),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).getList=function(e){return a.state.lists[+e].items},a.onDragEnd=function(e){var t=e.source,n=e.destination;if(n)if(t.droppableId===n.droppableId){console.log("reorder");var r=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),s=Object(g.a)(r,1)[0];return n.splice(a,0,s),n}(a.getList(t.droppableId),t.index,n.index);console.log("droppableId : "+t.droppableId),a.state.lists[+t.droppableId].items=r,a.forceUpdate()}else{console.log("Move");var s=function(e,t,a,n){var r=Array.from(e),s=Array.from(t),o=r.splice(a.index,1),c=Object(g.a)(o,1)[0];s.splice(n.index,0,c);var i={};return i[a.droppableId]=r,i[n.droppableId]=s,i}(a.getList(t.droppableId),a.getList(n.droppableId),t,n);console.log(s),a.state.lists[+t.droppableId].items=s[+t.droppableId],a.state.lists[+n.droppableId].items=s[+n.droppableId],a.forceUpdate()}},a.state={lists:e.list},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return d.a.createElement(v.a,{onDragEnd:this.onDragEnd},this.state.lists.map((function(e,t){return d.a.createElement(v.c,{droppableId:""+t},(function(t,a){return d.a.createElement("div",{className:"card",ref:t.innerRef,style:(n=a.isDraggingOver,{background:n?"lightblue":"#F1F1F1",padding:4,width:250,margin:4})},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-9"},d.a.createElement("b",null,e.title)),d.a.createElement("div",{className:"col-sm-3"},d.a.createElement("span",{className:"badge badge-dark pull-right"},function(e){var t=0;return e.map((function(e,a){t+=+e.effort})),t}(e.items)))),d.a.createElement("hr",null),e.items.map((function(e,t){return d.a.createElement(v.b,{key:e.id,draggableId:e.id,index:t},(function(t,a){return d.a.createElement("div",Object.assign({className:"card",ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:(n=a.isDragging,r=t.draggableProps.style,Object(f.a)({userSelect:"none",padding:8,margin:"0 0 ".concat(4,"px 0"),fontSize:14,textAlign:"left",background:n?"lightgreen":"white"},r))}),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-9"},e.id),d.a.createElement("div",{className:"col-sm-3"},d.a.createElement("span",{className:"badge badge-dark pull-right"},e.effort))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-12"},d.a.createElement("b",null,e.summary))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-12"},e.description)),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-9"},d.a.createElement("span",{className:"badge badge-primary pull-right"},e.epic)),d.a.createElement("div",{className:"col-sm-3"},d.a.createElement("span",{className:"badge {if(item.prio>7) ? 'badge-light' : 'badge-error' } pull-right"},e.prio))));var n,r}))})),t.placeholder);var n}))})))}}]),t}(u.Component),h=new(a(91).a),E=function(e){return h.next({text:e})},O=function(){return h.next()},j=function(){return h.asObservable()},w=(d.a.Component,a(42));d.a.Component;function y(e){for(var t=e.split("\n"),a=[],n=t[0].split(";"),r=1;r<t.length;r++){for(var s={},o=t[r].split(";"),c=0;c<n.length;c++){var i=o[c].replace(/^"(.*)"$/,"$1");s[n[c]]=i}a.push(s)}return a}function N(e){var t=e,a=function(e,t){return null===t?"":t},n=Object.keys(t[0]),r=t.map((function(e){return n.map((function(t){return JSON.stringify(e[t],a)})).join(";")}));return r.unshift(n.join(";")),r.join("\r\n")}var I=function(e){var t=Math.floor(Math.random()*Math.floor(e.length));return console.log(t),e[t]},x={status:["Open","Progress","Verificatin","Done"],epic:["epic1","epic2","epic3","epic4"],prio:["0","2","5","10"],start:["Q1","Q2","Q3","Q4"]};var D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).showFile=function(e){var t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.preventDefault(),(t=new FileReader).onload=function(e){var t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.target.result,console.log("showFile"),console.log(t),E(t);case 4:case"end":return a.stop()}}))},t.readAsText(e.target.files[0]);case 4:case"end":return a.stop()}}))},a.showRand=function(){var e=N(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.from({length:e},(function(e,t){return t})).map((function(e){return{id:"JIRA-".concat(e+t),summary:"Item to  ".concat(e+t),description:"As user i want ".concat(e+t,", so that ..."),effort:3,epic:""+I(x.epic),version:"v"+I(["1.0","1.1","2.0"]),prio:""+I(x.prio),status:""+I(x.status),start:""+I(x.start)}}))}(10));console.log(e),E(e)},a.render=function(){return d.a.createElement("div",null,d.a.createElement("input",{type:"file",onChange:function(e){return a.showFile(e)}}),d.a.createElement("button",{onClick:a.showRand}," Simulate "))},a}return Object(l.a)(t,e),t}(u.Component),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={lists:[]},a.subscription=null,a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"setCSVData",value:function(e){console.log("setCSVData"),console.log(e);var t=y(e);console.log("setJsonData"),console.log(t),this.setJsonData(t)}},{key:"setJsonData",value:function(e){var t=this,a=x.status;a.map((function(e,a){t.state.lists.push({title:e,items:[]})})),e.map((function(e,n){var r=e.status,s=a.indexOf(r);s>=0?t.state.lists[s].items.push(e):(console.warn("Item Ignored"),console.warn(e))})),this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this;this.subscription=j().subscribe((function(t){t&&(console.log("componentDidMount recieved message"),console.log(t),e.setCSVData(t.text))}))}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(D,null),d.a.createElement("div",{className:"container text-center"},d.a.createElement("div",{className:"row"},d.a.createElement(b,{list:this.state.lists}))))}}]),t}(u.Component);m.a.render(d.a.createElement(k,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.777f52f9.chunk.js.map